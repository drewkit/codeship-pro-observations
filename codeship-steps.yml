- name: html encode arg issue
  type: serial
  tag: html-encode-arg-issue
  steps:
    - name: desired value
      service: html-encode-arg-issue
      command: cat desired_value.txt
    - name: actual value
      service: html-encode-arg-issue
      command: cat value_passed_from_build_arg.txt
    - name: issue resolved?
      service: html-encode-arg-issue
      command: cmp value_passed_from_build_arg.txt desired_value.txt
- name: quotation wrapping of env var values
  type: serial
  tag: env-vars-quotation-handling
  steps:
    - name: env var without quotation handling
      service: env-vars-quotation-handling
      command: /bin/bash -xc "[ $CLOUDBEES_CO_OFFICE == 'Louisville' ]"
    - name: env var from env file with single quotes on 'San Jose'
      service: env-vars-quotation-handling
      command: /bin/bash -xc "[ $CLOUDBEES_HEADQUARTERS == 'San Jose' ]"
- name: Git context in Codeship Pro build
  service: git-context-check
  tag: git-context-check
  type: serial
  steps:
    - name: check for a git context in the Codeship Pro build
      command: git status
    - name: how to get to master branch
      type: serial
      steps:
        - command: /bin/bash -c 'ssh-keyscan -H github.com >> /etc/ssh/ssh_known_hosts'
        - command: git reset --hard
        - command: git remote update
        - command: git fetch
        - name: checkout master branch
          command: git checkout -b master origin/master
